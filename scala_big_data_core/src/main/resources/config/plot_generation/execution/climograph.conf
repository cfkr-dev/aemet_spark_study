include "../../global/schema/spark.conf"
include "../url/global.conf"
include "../storage/climograph.conf"
include "global.conf"

climograph-values = {
  locations {
    peninsula = "peninsula"
    canary-islands = "canary islands"
    balear-islands = "balear islands"
  },
  climate-records = [
    {
      climate-group-name = "arid"
      climates = [
        {
          climate-name = "BWh"
          locations = [
            ${climograph-values.locations.peninsula},
            ${climograph-values.locations.canary-islands}
          ]
        },
        {
          climate-name = "BWk"
          locations = [
            ${climograph-values.locations.peninsula}
          ]
        },
        {
          climate-name = "BSh"
          locations = [
            ${climograph-values.locations.peninsula},
            ${climograph-values.locations.canary-islands},
            ${climograph-values.locations.balear-islands}
          ]
        },
        {
          climate-name = "BSk"
          locations = [
            ${climograph-values.locations.peninsula},
            ${climograph-values.locations.canary-islands},
            ${climograph-values.locations.balear-islands}
          ]
        }
      ]
    },
    {
      climate-group-name = "warm"
      climates = [
        {
          climate-name = "Csa"
          locations = [
            ${climograph-values.locations.peninsula},
            ${climograph-values.locations.canary-islands},
            ${climograph-values.locations.balear-islands}
          ]
        },
        {
          climate-name = "Csb"
          locations = [
            ${climograph-values.locations.peninsula},
            ${climograph-values.locations.canary-islands},
            ${climograph-values.locations.balear-islands}
          ]
        },
        {
          climate-name = "Cfa"
          locations = [
            ${climograph-values.locations.peninsula}
          ]
        },
        {
          climate-name = "Cfb"
          locations = [
            ${climograph-values.locations.peninsula}
          ]
        }
      ]
    },
    {
      climate-group-name = "cold"
      climates = [
        {
          climate-name = "Dsb"
          locations = [
            ${climograph-values.locations.peninsula}
          ]
        },
        {
          climate-name = "Dfb"
          locations = [
            ${climograph-values.locations.peninsula}
          ]
        },
        {
          climate-name = "Dfc"
          locations = [
            ${climograph-values.locations.peninsula}
          ]
        }
      ]
    }
  ],
  meteo-params = {
    temperature = ${meteo-params-values.temperature},
    precipitation = ${meteo-params-values.precipitation}
  }
}

climograph {
  uri = ${climograph-chart},
  body = {
    src = {
      path = ${climograph.data-src-temp-and-prec},
      axis = {
        x = {
          name = ${special-columns.month},
        },
        y-temp = {
          name = ${special-columns.col-monthly-grouped}
        },
        y-prec = {
          name = ${special-columns.col-monthly-grouped}
        }
      }
    },
    dest = {
      path = ${climograph.data-dest},
      filename = "plot",
      export-png = true
    },
    style = {
      lettering = {
        // Params:
        // 1 - Station name
        // 2 - Station ID
        // 3 - State
        title = "%s - %s (%s) climograph (2024)",

        // Params:
        // 1 - Climograph type
        // 2 - Climograph subtype
        // 3 - Latitude coordinate
        // 4 - Longitude coordinate
        // 5 - Altitude
        subtitle = "Class: %s - %s. Lat: %s. Long: %s. Alt: %s",
        x-label: "Month",

        // Params:
        // 1 - Meteo param
        // 2 - Units
        y-temp-label: "%s (%s)",

        // Params:
        // 1 - Meteo param
        // 2 - Units
        y-prec-label: "%s (%s)"
      },
      figure-temp = {

        // Params:
        // 1 - Meteo param
        name = "%s",
        color = "#FF0000"
      },
      figure-prec = {

        // Params:
        // 1 - Meteo param
        name = "%s",
        color = "#4169e1"
      },
      margin = {
        left = 80,
        right = 80,
        top = 80,
        bottom = 80
      },
      legend = {
        y-offset = -0.15
      }
    }
  }
}