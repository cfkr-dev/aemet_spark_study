include "../../global/schema/spark.conf"
include "../url/global.conf"
include "../storage/interesting-studies.conf"
include "global.conf"

// -- EVOL PREC PRESS --

evol-prec-press-values = {
  precipitation = ${meteo-params-values.precipitation},
  pressure = ${meteo-params-values.pressure}
}

// -- EVOL 2024 --

evol-prec-press-2024 = {
  uri = ${double-linear-chart},
  body = {
    src = {
      path = ${evol-prec-press.evol-2024.data-src},
      axis = {
        x = {
          name = ${special-columns.date},
          format = ${formatters.timestamp}
        },
        y-1 = {
          name = ${special-columns.col-daily-grouped}
        },
        y-2 = {
          name = ${special-columns.col-daily-grouped}
        },
      }
    },
    dest = {
      path = ${evol-prec-press.evol-2024.data-dest},
      filename = "plot",
      export-png = true
    },
    style = {
      lettering = {
        // Params:
        // 1 - Station name
        // 2 - Station ID
        // 3 - State
        // 4 - Meteo Param 1
        // 5 - Meteo Param 2
        title = "%s - %s (%s) %s and %s evolution (2024)",

        // Params:
        // 1 - Latitude coordinate
        // 2 - Longitude coordinate
        // 3 - Altitude
        subtitle = "Lat: %s. Long: %s. Alt: %s",
        x-label = "Date",

        // Params:
        // 1 - Meteo param
        // 2 - Units
        y-1-label = "%s (%s)"

        // Params:
        // 1 - Meteo param
        // 2 - Units
        y-2-label = "%s (%s)"
      },
      figure-1 = {
        // Params:
        // 1 - Meteo param
        name = "%s evolution"
        color = "#4169e1"
      },
      figure-2 = {
        // Params:
        // 1 - Meteo param
        name = "%s evolution"
        color = "#ff0000"
      },
      margin = {
        left = 80,
        right = 80,
        top = 80,
        bottom = 80
      },
      legend = {
        y-offset = -0.3
      }
    }
  }
}

// -- EVOL YEARLY GROUP --

evol-prec-press-yearly-group = {
  uri = ${double-linear-chart},
  body = {
    src = {
      path = ${evol-prec-press.evol-yearly-group.data-src},
      axis = {
        x = {
          name = ${special-columns.year},
          format = ${formatters.timestamp-year}
        },
        y-1 = {
          name = ${special-columns.col-yearly-grouped}
        },
        y-2 = {
          name = ${special-columns.col-yearly-grouped}
        },
      }
    },
    dest = {
      path = ${evol-prec-press.evol-yearly-group.data-dest},
      filename = "plot",
      export-png = true
    },
    style = {
      lettering = {
        // Params:
        // 1 - Station name
        // 2 - Station ID
        // 3 - State
        // 4 - Meteo Param
        title = "%s - %s (%s) %s and %s evolution (From the beginning of the records)",

        // Params:
        // 1 - Latitude coordinate
        // 2 - Longitude coordinate
        // 3 - Altitude
        subtitle = "Lat: %s. Long: %s. Alt: %s",
        x-label = "Year",

        // Params:
        // 1 - Meteo param
        // 2 - Units
        y-1-label = "%s (%s)"

        // Params:
        // 1 - Meteo param
        // 2 - Units
        y-2-label = "%s (%s)"
      },
      figure-1 = {
        // Params:
        // 1 - Meteo param
        name = "%s evolution"
        color = "#4169e1"
      },
      figure-2 = {
        // Params:
        // 1 - Meteo param
        name = "%s evolution"
        color = "#ff0000"
      },
      margin = {
        left = 80,
        right = 80,
        top = 80,
        bottom = 80
      },
      legend = {
        y-offset = -0.3
      }
    }
  }
}

// -- TOP 10 STATES --

top-10-states-values = [
  {
    name = "better states for wind power generation",
    name-abbrev = "better_wind_power"
  },
  {
    name = "better states for sun power generation",
    name-abbrev = "better_sun_power"
  },
  {
    name = "states with the highest incidence of torrential rains",
    name-abbrev = "torrential_rains"
  },
  {
    name = "highest incidence of storms",
    name-abbrev = "storms"
  },
  {
    name = "better states for agriculture",
    name-abbrev = "agriculture"
  },
  {
    name = "highest incidence of droughts",
    name-abbrev = "droughts"
  },
  {
    name = "highest incidence of fires",
    name-abbrev = "fires"
  },
  {
    name = "highest incidence of heat waves",
    name-abbrev = "heat_waves"
  },
  {
    name = "highest incidence of frosts",
    name-abbrev = "frosts"
  }
]

top-10-states = {
  uri = ${table-chart},
  body = {
    src = {
      path = ${top-10-states.data-src},
      col-names = [${special-columns.top}, ${special-columns.state}]
    },
    dest = {
      path = ${top-10-states.data-dest},
      filename = "plot",
      export-png = false
    },
    style = {
      lettering = {

        // Params:
        // 1 - Study name
        title = "Top 10 %s",
        subtitle = "Last decade"
        headers = ["Top", "State"]
      },
      figure = {
        headers = {
          align = "center",
          color = "#C8D4E3"
        },
        cells = {
          align = "center",
          color = "#F5F8FF"
        }
      }
    }
  }
}